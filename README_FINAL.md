# ‚ö° VoltWay ‚Äî –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞—Ä—è–¥–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–µ–π —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.9%2B-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.115%2B-green.svg)](https://fastapi.tiangolo.com/)
[![Tests](https://img.shields.io/badge/tests-50%2B-brightgreen)]()
[![Coverage](https://img.shields.io/badge/coverage-85%2B-brightgreen)]()

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –ë–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–π | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–µ–π | ‚úÖ |
| ‚≠ê –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏ | 5-–∑–≤—ë–∑–¥–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ñ–æ—Ç–æ | ‚úÖ |
| üìÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | –°–ª–æ—Ç—ã, check-in/out, –æ–ø–ª–∞—Ç–∞ | ‚úÖ |
| üé´ –ö—É–ø–æ–Ω—ã –∏ —Å–∫–∏–¥–∫–∏ | –ü—Ä–æ–º–æ–∫–æ–¥—ã, –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ/—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–∏–¥–∫–∏ | ‚úÖ |
| ‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—é–±–∏–º—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π | ‚úÖ |
| üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | WebSocket + Telegram + Email | ‚úÖ |
| üìä Analytics | Dashboard, export CSV/JSON | ‚úÖ |
| üåê i18n | –†—É—Å—Å–∫–∏–π/–ê–Ω–≥–ª–∏–π—Å–∫–∏–π | ‚úÖ |

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| üîë API Keys | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ bcrypt, —Ä–æ–ª–∏ | ‚úÖ |
| üõ°Ô∏è Security Headers | CSP, HSTS, X-Frame-Options | ‚úÖ |
| üìù Audit Logging | –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ |
| üö¶ Rate Limiting | –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π | ‚úÖ |

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| Repository Pattern | –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | ‚úÖ |
| Service Layer | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ | ‚úÖ |
| GraphQL API v3 | –ì–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã | ‚úÖ |
| Full-Text Search | PostgreSQL FTS | ‚úÖ |
| PostGIS | –ì–µ–æ-–∑–∞–ø—Ä–æ—Å—ã | ‚úÖ |
| Caching | Redis + in-memory | ‚úÖ |

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| Prometheus | 30+ –º–µ—Ç—Ä–∏–∫ | ‚úÖ |
| OpenTelemetry | Distributed tracing | ‚úÖ |
| Health Checks | –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ | ‚úÖ |
| Structured Logging | JSON –ª–æ–≥–∏ | ‚úÖ |

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| Unit Tests | 30+ —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| Integration Tests | 10+ —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| E2E Tests | Playwright 15+ —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| Security Scan | Bandit, Safety, Semgrep | ‚úÖ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/QuadDarv1ne/VoltWay.git
cd VoltWay
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
playwright install  # –î–ª—è E2E —Ç–µ—Å—Ç–æ–≤
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (9 –º–∏–≥—Ä–∞—Ü–∏–π)
alembic upgrade head

# –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
python add_sample_data.py
```

### 5. –ó–∞–ø—É—Å–∫

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# Production
docker-compose up -d
```

---

## üì° API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ

```bash
# –°—Ç–∞–Ω—Ü–∏–∏
GET  /api/v1/stations/              # –°–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
GET  /api/v1/stations/{id}          # –î–µ—Ç–∞–ª–∏
GET  /api/v1/stations/search        # Full-text –ø–æ–∏—Å–∫
GET  /api/v1/stations/suggestions   # –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

# –û—Ç–∑—ã–≤—ã
GET  /api/v1/reviews/station/{id}   # –û—Ç–∑—ã–≤—ã —Å—Ç–∞–Ω—Ü–∏–∏
POST /api/v1/reviews/station/{id}   # –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
POST /api/v1/reviews/{id}/vote      # –ì–æ–ª–æ—Å–æ–≤–∞—Ç—å

# –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
GET  /api/v1/reservations/my        # –ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
POST /api/v1/reservations/          # –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å
POST /api/v1/reservations/{id}/check-in  # Check-in
POST /api/v1/reservations/{id}/check-out # Check-out

# –ö—É–ø–æ–Ω—ã
POST /api/v1/coupons/validate       # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—É–ø–æ–Ω
GET  /api/v1/coupons/stats/{id}     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

# Analytics
GET  /api/v1/analytics/dashboard    # Dashboard
GET  /api/v1/analytics/export/      # Export CSV/JSON

# Health
GET  /health                        # Basic
GET  /health/detailed               # Detailed
GET  /health/metrics                # Metrics
```

### GraphQL

```bash
POST /api/v3/           # GraphQL endpoint
GET  /api/v3/schema     # Schema SDL
GET  /api/v3/playground # Playground UI
```

**–ü—Ä–∏–º–µ—Ä GraphQL –∑–∞–ø—Ä–æ—Å–∞:**

```graphql
query {
  stations(skip: 0, limit: 10) {
    stations { id, title, status, avgRating }
    total, page, has_next
  }
  stationStats {
    totalStations, availableStations, avgPowerKw
  }
  stationsNearby(location: {
    latitude: 55.7558,
    longitude: 37.6173,
    radiusKm: 10
  }) {
    id, title, distanceKm
  }
}
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ Prometheus

```prometheus
# –ë–∏–∑–Ω–µ—Å
voltway_stations_total
voltway_stations_by_status{status}
voltway_reviews_total
voltway_reviews_by_rating{rating}
voltway_reservations_total
voltway_reservations_by_status{status}
voltway_reservation_revenue_total

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
voltway_http_requests_total
voltway_request_duration_seconds
voltway_cache_hit_ratio

# –í–Ω–µ—à–Ω–∏–µ API
voltway_external_api_calls_total
voltway_circuit_breaker_state{api}
```

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# Unit tests
pytest tests/ -v --cov=app --cov-report=html

# E2E tests
playwright install
pytest tests/e2e/ -v --browser chromium

# Security scan
safety check -r requirements.txt
bandit -r app/
semgrep --config .semgrep.yml
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
VoltWay/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ v1.py              # REST API v1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ v3/                # GraphQL API v3
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics.py       # Analytics endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coupons.py         # Coupons API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reservations.py    # Reservations API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reviews.py         # Reviews API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stations.py        # Stations API
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audit.py           # Audit logging
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ security.py        # Security headers
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coupon.py          # Coupons
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reservation.py     # Reservations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ review.py          # Reviews
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ station.py         # Stations
‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot.py    # Telegram bot
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ station.py         # Station service
‚îÇ   ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ locales/           # i18n files
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sw.js              # Service worker
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ metrics.py         # Prometheus metrics
‚îÇ       ‚îî‚îÄ‚îÄ telemetry.py       # OpenTelemetry
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ versions/              # 9 migrations
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ e2e/                   # E2E tests
‚îÇ   ‚îî‚îÄ‚îÄ ...                    # Unit tests
‚îî‚îÄ‚îÄ requirements.txt
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```bash
# Application
APP_NAME=VoltWay
DEBUG=False

# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/voltway
USE_POSTGIS=false

# Redis
REDIS_URL=redis://localhost:6379

# External APIs
OPEN_CHARGE_MAP_API_KEY=your_key
API_NINJAS_KEY=your_key

# Security
SECRET_KEY=your-secret-key-min-32-chars

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_bot_token

# OpenTelemetry
ENABLE_OTEL=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ö–æ–º–º–∏—Ç–æ–≤ | 70+ |
| –§–∞–π–ª–æ–≤ | 160+ |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | 9500+ |
| API Endpoints | 30+ |
| –ú–∏–≥—Ä–∞—Ü–∏–π –ë–î | 9 |
| –¢–µ—Å—Ç–æ–≤ | 50+ |
| –ú–µ—Ç—Ä–∏–∫ Prometheus | 35+ |

---

## üéØ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| –ò–º–ø–æ—Ä—Ç 100 —Å—Ç–∞–Ω—Ü–∏–π | ~30 —Å–µ–∫ | ~3 —Å–µ–∫ | **10x** |
| –ì–µ–æ-–∑–∞–ø—Ä–æ—Å | ~100 –º—Å | ~10 –º—Å | **10x** |
| API response | ~200 –º—Å | ~150 –º—Å | **25%** |
| Cache hit rate | ~70% | ~90% | **20%** |

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ API keys —Ö–µ—à–∏—Ä—É—é—Ç—Å—è (bcrypt)
- ‚úÖ Security headers (CSP, HSTS)
- ‚úÖ Audit logging –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ Rate limiting
- ‚úÖ SQL injection protection
- ‚úÖ XSS protection
- ‚úÖ CSRF protection

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[PROJECT_COMPLETE_GUIDE.md](PROJECT_COMPLETE_GUIDE.md)** ‚Äî –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **[IMPROVEMENTS_FINAL.md](IMPROVEMENTS_FINAL.md)** ‚Äî –û—Ç—á—ë—Ç –æ–± —É–ª—É—á—à–µ–Ω–∏—è—Ö
- **[API_DOCUMENTATION.md](API_DOCUMENTATION.md)** ‚Äî API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[DEPLOYMENT.md](DEPLOYMENT.md)** ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é

---

## üöÄ Production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker

```bash
docker-compose -f docker-compose.prod.yml up -d
```

### Kubernetes

```bash
kubectl apply -f k8s/
```

### Checklist

- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS
- [ ] –í–∫–ª—é—á–∏—Ç—å security headers
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backup –ë–î
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –í–∫–ª—é—á–∏—Ç—å audit logging
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å alerting

---

## ü§ù Contributing

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ PR

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

---

## üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **Website:** https://volt-ev.ru/
- **Email:** support@voltway.app
- **Telegram:** @voltway_bot

---

**VoltWay v2.0.0** ‚Äî –ì–æ—Ç–æ–≤–æ –∫ production! üöÄ

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-02-22*
